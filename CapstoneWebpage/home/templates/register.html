{% extends 'base.html' %}

{% load static %}
{% block title %}Register{% endblock %}
{% block content %}
<br>
<div class="container p-0">
    <div class="row justify-content-center">
        <img src="{% static 'ptc.svg' %}" style="min-width: 75px; width: 20vw;"/>
    </div>
    <div class="row justify-content-center">
        <img src="{% static 'logo.svg' %}" style="min-width: 75px; width: 20vw;" />
    </div>
</div>
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-6">
            <h1 class="text-center text-ptc">CREATE AN ACCOUNT</h1>
            <form method="post" id="form">
                {% csrf_token %}
                <div class="form-group">
                    <label class="text-ptc" for="first">First Name</label>
                    <input class="form-control form-control-sm" type="text" name="first" id="first"/>
                </div>
                <div class="form-group">
                    <label class="text-ptc" for="last">Last Name</label>
                    <input class="form-control form-control-sm" type="text" name="last" id="last"/>
                </div>
                <div class="form-group">
                    <label class="text-ptc" for="email">Email</label>
                    <input class="form-control form-control-sm" type="text" name="email" id="email"/>
                </div>
                <div class="form-group">
                    <label class="text-ptc" for="line1">Line 1</label>
                    <input class="form-control form-control-sm" type="text" name="line1" id="line1"/>
                </div>
                <div class="form-group">
                    <label class="text-ptc" for="line1">Line 2</label>
                    <input class="form-control form-control-sm" type="text" name="line2" id="line2"/>
                </div>
                <div class="form-group row">
                    <div class="col">
                        <label class="text-ptc" for="city">City</label>
                        <input class="form-control form-control-sm" type="text" name="city" id="city"/>
                    </div>
                    <div class="col">
                        <label class="text-ptc" for="state">State</label>
                        <select class="form-control form-control-sm" id="state" name="state">
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District Of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div class="col">
                        <label class="text-ptc" for="zip">Zip</label>
                        <input class="form-control form-control-sm" type="text" name="zip" id="zip"/>
                    </div>
                </div>
            
                <br>
            
                <h4 class="text-center text-ptc">Will You</h4>
                <div class="form-group row">
                    <div class="text-center">
                        <input type="checkbox" name="driver" id="driver" value="driver">
                        <label class="text-ptc" for="driver">Give a Ride</label>
                    </div>
                    <div class="text-center">
                        <input type="checkbox" name="rider" id="rider" value="rider">
                        <label class="text-ptc" for="rider">Need a Ride</label>
                    </div>
                </div>
                
                <h4 class="text-center text-ptc">Eating Preference</h4>
                <div class="form-group row">
                    <div class="text-center">
                        <input type="radio" name="eat" id="eater" value="eater">
                        <label class="text-ptc" for="eater">I eat in the car</label>
                    </div>
            
                    <div class="text-center">
                        <input type="radio" name="eat" id="noneater" value="noneater">
                        <label class="text-ptc" for="noneater">I don't eat in the car</label>
                    </div>
            
                    <div class="text-center">
                        <input type="radio" name="eat" id="anyeater" value="anyeater" checked>
                        <label class="text-ptc" for="anyeater">No preference</label>
                    </div>
                </div>
                
                <h4 class="text-center text-ptc">Smoking Preference</h4>
                <div class="form-group row">
                    <div class="text-center">
                        <input type="radio" name="smoke" id="smoker" value="smoker">
                        <label class="text-ptc" for="smoker">I smoke in the car</label>
                    </div>
            
                    <div class="text-center">
                        <input type="radio" name="smoke" id="nonsmoker" value="nonsmoker">
                        <label class="text-ptc" for="rider">No smoking in the car</label>
                    </div>
            
                    <div class="text-center">
                        <input type="radio" name="smoke" id="anysmoker" value="anysmoker" checked>
                        <label class="text-ptc" for="rider">No preference</label>
                    </div>
                </div>
            
                <br>
            
                <div class="form-group">
                    <label class="text-ptc" for="password">Password</label>
                    <input class="form-control form-control-sm" type="text" name="password" id="password"/>
                </div>
                <div class="form-group">
                    <label class="text-ptc" for="confirm">Confirm Password</label>
                    <input class="form-control form-control-sm" type="text" name="confirm" id="confirm"/>
                </div>
            </form>
        </div>
    </div>
</div>
<br>
<div class="container-fluid m-0 p-0">
    <div class="row m-0 p-0"> 
        <div class="col-3 p-0 m-0 align-self-center">
            <img src="{% static 'left.svg' %}"/>
        </div>
        <div class="col-6 p-0 m-0">
            <button class="btn btn-lg btn-ptc form-control" onclick="onClick()" id="submit"><b>SUBMIT</b></button>
        </div>
        <div class="col-3 p-0 m-0 align-self-center">
            <img src="{% static 'right.svg' %}" style="transform: scaleY(-1);"/>
        </div>
    </div>
</div>
<br>

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script>
    const form = document.getElementById("form")
    const password = document.getElementById("password")
    const confirmPassword = document.getElementById("confirm")
    const driver = document.getElementById("driver")
    const rider = document.getElementById("rider")
    const hash = (str) => { return str.length === 0 ? "" : CryptoJS.SHA256(str).toString(CryptoJS.enc.Hex) }
    const onClick = () => { if (password.value == confirmPassword.value) { password.value = hash(password.value); form.submit() } }
</script>

{% endblock %}